{% extends "base.html" %}
{% load i18n crispy_forms_tags %}

{% block head_title %}{% trans "Set New Password" %}{% endblock head_title %}

{% block content %}
<div class="container my-5">
  <div class="auth-card card shadow-sm mx-auto">
    <div class="card-body p-4">
      {% if token_fail %}
        <h1 class="h3 mb-3">{% trans "Bad Token" %}</h1>
        <p class="text-muted mb-4">
          {% trans "That reset link is invalid or already used. Please request a new one." %}
        </p>
        <a class="btn btn-brand w-100" href="{% url 'account_reset_password' %}">
          {% trans "Request New Link" %}
        </a>
      {% else %}
        <h1 class="h3 mb-3">{% trans "Set New Password" %}</h1>
        <form method="post" action="{{ action_url }}" novalidate>
          {% csrf_token %}
          {{ form|crispy }}
          <button type="submit" class="btn btn-brand w-100 mt-2">
            {% trans "Change Password" %}
          </button>
        </form>
      {% endif %}
    </div>
  </div>
</div>
{% endblock content %}
